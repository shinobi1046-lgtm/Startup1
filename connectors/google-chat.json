{
  "id": "google-chat",
  "name": "Google Chat",
  "description": "Google Chat messaging platform for teams",
  "category": "Communication",
  "icon": "google-chat",
  "color": "#34A853",
  "version": "1.0.0",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://accounts.google.com/o/oauth2/v2/auth",
      "tokenUrl": "https://oauth2.googleapis.com/token",
      "scopes": ["https://www.googleapis.com/auth/chat.messages", "https://www.googleapis.com/auth/chat.spaces"]
    }
  },
  "baseUrl": "https://chat.googleapis.com/v1",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Google Chat",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "send_message",
      "name": "Send Message",
      "description": "Send a message to a Chat space",
      "parameters": {
        "type": "object",
        "properties": {
          "space": {
            "type": "string",
            "description": "Space name (spaces/AAABBBCCC)"
          },
          "text": {
            "type": "string",
            "description": "Message text"
          },
          "thread": {
            "type": "object",
            "properties": {
              "name": {"type": "string"}
            },
            "description": "Thread to reply to"
          },
          "cards": {
            "type": "array",
            "items": {"type": "object"},
            "description": "Card attachments"
          },
          "cardsV2": {
            "type": "array",
            "items": {"type": "object"},
            "description": "Card v2 attachments"
          },
          "actionResponse": {
            "type": "object",
            "properties": {
              "type": {"type": "string"},
              "url": {"type": "string"}
            },
            "description": "Action response configuration"
          }
        },
        "required": ["space", "text"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_space",
      "name": "Create Space",
      "description": "Create a new Chat space",
      "parameters": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": "string",
            "description": "Space display name"
          },
          "spaceType": {
            "type": "string",
            "enum": ["SPACE", "GROUP_CHAT", "DIRECT_MESSAGE"],
            "default": "SPACE",
            "description": "Type of space"
          },
          "threaded": {
            "type": "boolean",
            "default": false,
            "description": "Enable threaded conversations"
          },
          "externalUserAllowed": {
            "type": "boolean",
            "default": false,
            "description": "Allow external users"
          },
          "spaceHistoryState": {
            "type": "string",
            "enum": ["HISTORY_OFF", "HISTORY_ON"],
            "default": "HISTORY_ON",
            "description": "Chat history setting"
          }
        },
        "required": ["displayName"],
        "additionalProperties": false
      }
    },
    {
      "id": "list_spaces",
      "name": "List Spaces",
      "description": "List Chat spaces",
      "parameters": {
        "type": "object",
        "properties": {
          "pageSize": {
            "type": "number",
            "minimum": 1,
            "maximum": 1000,
            "default": 100,
            "description": "Number of spaces to return"
          },
          "pageToken": {
            "type": "string",
            "description": "Page token for pagination"
          },
          "filter": {
            "type": "string",
            "description": "Filter expression"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "get_space",
      "name": "Get Space",
      "description": "Get details about a specific space",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Space name (spaces/AAABBBCCC)"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "list_members",
      "name": "List Members",
      "description": "List members of a space",
      "parameters": {
        "type": "object",
        "properties": {
          "parent": {
            "type": "string",
            "description": "Space name (spaces/AAABBBCCC)"
          },
          "pageSize": {
            "type": "number",
            "minimum": 1,
            "maximum": 1000,
            "default": 100,
            "description": "Number of members to return"
          },
          "pageToken": {
            "type": "string",
            "description": "Page token for pagination"
          },
          "filter": {
            "type": "string",
            "description": "Filter expression"
          },
          "showGroups": {
            "type": "boolean",
            "default": false,
            "description": "Include group memberships"
          }
        },
        "required": ["parent"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_membership",
      "name": "Create Membership",
      "description": "Add a member to a space",
      "parameters": {
        "type": "object",
        "properties": {
          "parent": {
            "type": "string",
            "description": "Space name (spaces/AAABBBCCC)"
          },
          "member": {
            "type": "object",
            "properties": {
              "name": {"type": "string"},
              "displayName": {"type": "string"},
              "type": {"type": "string", "enum": ["HUMAN", "BOT"]}
            },
            "description": "Member to add"
          },
          "role": {
            "type": "string",
            "enum": ["ROLE_MEMBER", "ROLE_MANAGER"],
            "default": "ROLE_MEMBER",
            "description": "Member role"
          }
        },
        "required": ["parent", "member"],
        "additionalProperties": false
      }
    },
    {
      "id": "list_messages",
      "name": "List Messages",
      "description": "List messages in a space",
      "parameters": {
        "type": "object",
        "properties": {
          "parent": {
            "type": "string",
            "description": "Space name (spaces/AAABBBCCC)"
          },
          "pageSize": {
            "type": "number",
            "minimum": 1,
            "maximum": 1000,
            "default": 100,
            "description": "Number of messages to return"
          },
          "pageToken": {
            "type": "string",
            "description": "Page token for pagination"
          },
          "filter": {
            "type": "string",
            "description": "Filter expression"
          },
          "orderBy": {
            "type": "string",
            "description": "Sort order"
          },
          "showDeleted": {
            "type": "boolean",
            "default": false,
            "description": "Include deleted messages"
          }
        },
        "required": ["parent"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_message",
      "name": "Get Message",
      "description": "Get a specific message",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Message name (spaces/AAABBB/messages/CCCDDD)"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "update_message",
      "name": "Update Message",
      "description": "Update an existing message",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Message name (spaces/AAABBB/messages/CCCDDD)"
          },
          "text": {
            "type": "string",
            "description": "Updated message text"
          },
          "cards": {
            "type": "array",
            "items": {"type": "object"},
            "description": "Updated card attachments"
          },
          "updateMask": {
            "type": "string",
            "description": "Fields to update"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "delete_message",
      "name": "Delete Message",
      "description": "Delete a message",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Message name (spaces/AAABBB/messages/CCCDDD)"
          },
          "force": {
            "type": "boolean",
            "default": false,
            "description": "Force delete even if message has reactions"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "message_created",
      "name": "Message Created",
      "description": "Triggered when a new message is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "space": {
            "type": "string",
            "description": "Filter by specific space"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "name": {"type": "string"},
          "sender": {"type": "object"},
          "text": {"type": "string"},
          "space": {"type": "object"},
          "thread": {"type": "object"}
        }
      }
    },
    {
      "id": "space_created",
      "name": "Space Created",
      "description": "Triggered when a new space is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "name": {"type": "string"},
          "displayName": {"type": "string"},
          "spaceType": {"type": "string"},
          "createTime": {"type": "string"}
        }
      }
    },
    {
      "id": "membership_created",
      "name": "Membership Created",
      "description": "Triggered when a member is added to a space",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "space": {
            "type": "string",
            "description": "Filter by specific space"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "name": {"type": "string"},
          "member": {"type": "object"},
          "space": {"type": "object"},
          "role": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "GET",
    "endpoint": "/spaces?pageSize=1"
  }
}