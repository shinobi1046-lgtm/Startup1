{
  "id": "powerbi",
  "name": "Power BI",
  "description": "Microsoft Power BI business analytics service",
  "category": "Analytics",
  "icon": "powerbi",
  "color": "#F2C811",
  "version": "1.0.0",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://login.microsoftonline.com/common/oauth2/v2.0/authorize",
      "tokenUrl": "https://login.microsoftonline.com/common/oauth2/v2.0/token",
      "scopes": ["https://analysis.windows.net/powerbi/api/.default"]
    }
  },
  "baseUrl": "https://api.powerbi.com/v1.0/myorg",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Power BI",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "get_datasets",
      "name": "Get Datasets",
      "description": "Get list of datasets",
      "parameters": {
        "type": "object",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Workspace ID (optional)"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "refresh_dataset",
      "name": "Refresh Dataset",
      "description": "Trigger dataset refresh",
      "parameters": {
        "type": "object",
        "properties": {
          "datasetId": {
            "type": "string",
            "description": "Dataset ID"
          },
          "groupId": {
            "type": "string",
            "description": "Workspace ID (optional)"
          }
        },
        "required": ["datasetId"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_reports",
      "name": "Get Reports",
      "description": "Get list of reports",
      "parameters": {
        "type": "object",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Workspace ID (optional)"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "get_dashboards",
      "name": "Get Dashboards",
      "description": "Get list of dashboards",
      "parameters": {
        "type": "object",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Workspace ID (optional)"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "dataset_refreshed",
      "name": "Dataset Refreshed",
      "description": "Triggered when a dataset refresh completes",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "groupId": {
            "type": "string",
            "description": "Filter by workspace ID"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "datasetId": {"type": "string"},
          "refreshType": {"type": "string"},
          "status": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "GET",
    "endpoint": "/groups"
  }
}