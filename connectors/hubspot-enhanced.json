{
  "id": "hubspot-enhanced",
  "name": "HubSpot Enhanced",
  "description": "Enhanced HubSpot CRM with advanced features and workflows",
  "category": "CRM",
  "icon": "hubspot",
  "color": "#FF7A59",
  "version": "2.0.0",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://app.hubspot.com/oauth/authorize",
      "tokenUrl": "https://api.hubapi.com/oauth/v1/token",
      "scopes": ["crm.objects.contacts.read", "crm.objects.contacts.write", "crm.objects.companies.read", "crm.objects.companies.write", "crm.objects.deals.read", "crm.objects.deals.write"]
    }
  },
  "baseUrl": "https://api.hubapi.com",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to HubSpot",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_contact",
      "name": "Create Contact",
      "description": "Create a new contact",
      "parameters": {
        "type": "object",
        "properties": {
          "properties": {
            "type": "object",
            "properties": {
              "email": {"type": "string", "format": "email"},
              "firstname": {"type": "string"},
              "lastname": {"type": "string"},
              "phone": {"type": "string"},
              "company": {"type": "string"},
              "jobtitle": {"type": "string"},
              "website": {"type": "string", "format": "uri"},
              "lifecyclestage": {"type": "string", "enum": ["subscriber", "lead", "marketingqualifiedlead", "salesqualifiedlead", "opportunity", "customer", "evangelist", "other"]},
              "leadstatus": {"type": "string"},
              "hs_lead_status": {"type": "string"},
              "hubspot_owner_id": {"type": "string"},
              "city": {"type": "string"},
              "state": {"type": "string"},
              "country": {"type": "string"},
              "zip": {"type": "string"},
              "address": {"type": "string"}
            },
            "description": "Contact properties"
          },
          "associations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "to": {"type": "object"},
                "types": {"type": "array"}
              }
            },
            "description": "Associations to other objects"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "update_contact",
      "name": "Update Contact",
      "description": "Update an existing contact",
      "parameters": {
        "type": "object",
        "properties": {
          "contactId": {
            "type": "string",
            "description": "Contact ID"
          },
          "properties": {
            "type": "object",
            "properties": {
              "email": {"type": "string", "format": "email"},
              "firstname": {"type": "string"},
              "lastname": {"type": "string"},
              "phone": {"type": "string"},
              "company": {"type": "string"},
              "jobtitle": {"type": "string"},
              "website": {"type": "string", "format": "uri"},
              "lifecyclestage": {"type": "string"},
              "leadstatus": {"type": "string"},
              "hubspot_owner_id": {"type": "string"}
            },
            "description": "Properties to update"
          }
        },
        "required": ["contactId"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_contact",
      "name": "Get Contact",
      "description": "Get a specific contact",
      "parameters": {
        "type": "object",
        "properties": {
          "contactId": {
            "type": "string",
            "description": "Contact ID"
          },
          "properties": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Properties to retrieve"
          },
          "associations": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Associations to retrieve"
          }
        },
        "required": ["contactId"],
        "additionalProperties": false
      }
    },
    {
      "id": "search_contacts",
      "name": "Search Contacts",
      "description": "Search for contacts",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query"
          },
          "limit": {
            "type": "number",
            "minimum": 1,
            "maximum": 100,
            "default": 10,
            "description": "Number of results to return"
          },
          "after": {
            "type": "string",
            "description": "Pagination cursor"
          },
          "sorts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "propertyName": {"type": "string"},
                "direction": {"type": "string", "enum": ["ASCENDING", "DESCENDING"]}
              }
            },
            "description": "Sort criteria"
          },
          "properties": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Properties to retrieve"
          },
          "filterGroups": {
            "type": "array",
            "items": {"type": "object"},
            "description": "Filter groups for advanced search"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_company",
      "name": "Create Company",
      "description": "Create a new company",
      "parameters": {
        "type": "object",
        "properties": {
          "properties": {
            "type": "object",
            "properties": {
              "name": {"type": "string"},
              "domain": {"type": "string"},
              "industry": {"type": "string"},
              "phone": {"type": "string"},
              "city": {"type": "string"},
              "state": {"type": "string"},
              "country": {"type": "string"},
              "zip": {"type": "string"},
              "address": {"type": "string"},
              "address2": {"type": "string"},
              "description": {"type": "string"},
              "founded_year": {"type": "string"},
              "hubspot_owner_id": {"type": "string"},
              "is_public": {"type": "boolean"},
              "numberofemployees": {"type": "number"},
              "annualrevenue": {"type": "number"},
              "lifecyclestage": {"type": "string"},
              "type": {"type": "string"},
              "website": {"type": "string", "format": "uri"}
            },
            "description": "Company properties"
          },
          "associations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "to": {"type": "object"},
                "types": {"type": "array"}
              }
            },
            "description": "Associations to other objects"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "update_company",
      "name": "Update Company",
      "description": "Update an existing company",
      "parameters": {
        "type": "object",
        "properties": {
          "companyId": {
            "type": "string",
            "description": "Company ID"
          },
          "properties": {
            "type": "object",
            "properties": {
              "name": {"type": "string"},
              "domain": {"type": "string"},
              "industry": {"type": "string"},
              "phone": {"type": "string"},
              "description": {"type": "string"},
              "hubspot_owner_id": {"type": "string"},
              "numberofemployees": {"type": "number"},
              "annualrevenue": {"type": "number"}
            },
            "description": "Properties to update"
          }
        },
        "required": ["companyId"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_deal",
      "name": "Create Deal",
      "description": "Create a new deal",
      "parameters": {
        "type": "object",
        "properties": {
          "properties": {
            "type": "object",
            "properties": {
              "dealname": {"type": "string"},
              "amount": {"type": "number"},
              "dealstage": {"type": "string"},
              "pipeline": {"type": "string"},
              "closedate": {"type": "string", "format": "date"},
              "hubspot_owner_id": {"type": "string"},
              "dealtype": {"type": "string"},
              "description": {"type": "string"},
              "hs_priority": {"type": "string", "enum": ["HIGH", "MEDIUM", "LOW"]},
              "hs_forecast_amount": {"type": "number"},
              "hs_forecast_probability": {"type": "number"},
              "createdate": {"type": "string", "format": "date-time"}
            },
            "description": "Deal properties"
          },
          "associations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "to": {"type": "object"},
                "types": {"type": "array"}
              }
            },
            "description": "Associations to contacts and companies"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "update_deal",
      "name": "Update Deal",
      "description": "Update an existing deal",
      "parameters": {
        "type": "object",
        "properties": {
          "dealId": {
            "type": "string",
            "description": "Deal ID"
          },
          "properties": {
            "type": "object",
            "properties": {
              "dealname": {"type": "string"},
              "amount": {"type": "number"},
              "dealstage": {"type": "string"},
              "closedate": {"type": "string", "format": "date"},
              "hubspot_owner_id": {"type": "string"},
              "dealtype": {"type": "string"},
              "description": {"type": "string"},
              "hs_priority": {"type": "string", "enum": ["HIGH", "MEDIUM", "LOW"]}
            },
            "description": "Properties to update"
          }
        },
        "required": ["dealId"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_task",
      "name": "Create Task",
      "description": "Create a new task",
      "parameters": {
        "type": "object",
        "properties": {
          "properties": {
            "type": "object",
            "properties": {
              "hs_task_subject": {"type": "string"},
              "hs_task_body": {"type": "string"},
              "hs_task_status": {"type": "string", "enum": ["NOT_STARTED", "IN_PROGRESS", "COMPLETED", "WAITING", "DEFERRED"]},
              "hs_task_priority": {"type": "string", "enum": ["HIGH", "MEDIUM", "LOW"]},
              "hs_task_type": {"type": "string", "enum": ["CALL", "EMAIL", "TODO", "MEETING", "FOLLOW_UP"]},
              "hs_timestamp": {"type": "string", "format": "date-time"},
              "hubspot_owner_id": {"type": "string"},
              "hs_task_reminders": {"type": "string"}
            },
            "description": "Task properties"
          },
          "associations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "to": {"type": "object"},
                "types": {"type": "array"}
              }
            },
            "description": "Associations to contacts, companies, or deals"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_note",
      "name": "Create Note",
      "description": "Create a new note",
      "parameters": {
        "type": "object",
        "properties": {
          "properties": {
            "type": "object",
            "properties": {
              "hs_note_body": {"type": "string"},
              "hs_timestamp": {"type": "string", "format": "date-time"},
              "hubspot_owner_id": {"type": "string"}
            },
            "description": "Note properties"
          },
          "associations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "to": {"type": "object"},
                "types": {"type": "array"}
              }
            },
            "description": "Associations to contacts, companies, or deals"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "bulk_create_contacts",
      "name": "Bulk Create Contacts",
      "description": "Create multiple contacts in batch",
      "parameters": {
        "type": "object",
        "properties": {
          "inputs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "properties": {"type": "object"},
                "associations": {"type": "array"}
              }
            },
            "description": "Array of contacts to create"
          }
        },
        "required": ["inputs"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "contact_created",
      "name": "Contact Created",
      "description": "Triggered when a new contact is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "objectType": {
            "type": "string",
            "default": "contacts",
            "description": "Object type to monitor"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "objectId": {"type": "number"},
          "propertyName": {"type": "string"},
          "propertyValue": {"type": "string"},
          "changeSource": {"type": "string"},
          "eventId": {"type": "number"},
          "subscriptionId": {"type": "number"},
          "portalId": {"type": "number"},
          "appId": {"type": "number"},
          "occurredAt": {"type": "number"},
          "subscriptionType": {"type": "string"},
          "attemptNumber": {"type": "number"}
        }
      }
    },
    {
      "id": "contact_updated",
      "name": "Contact Updated",
      "description": "Triggered when a contact is updated",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "propertyName": {
            "type": "string",
            "description": "Specific property to monitor for changes"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "objectId": {"type": "number"},
          "propertyName": {"type": "string"},
          "propertyValue": {"type": "string"},
          "changeSource": {"type": "string"},
          "eventId": {"type": "number"}
        }
      }
    },
    {
      "id": "deal_stage_changed",
      "name": "Deal Stage Changed",
      "description": "Triggered when a deal stage changes",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "pipeline": {
            "type": "string",
            "description": "Filter by specific pipeline"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "objectId": {"type": "number"},
          "propertyName": {"type": "string"},
          "propertyValue": {"type": "string"},
          "changeSource": {"type": "string"}
        }
      }
    },
    {
      "id": "company_created",
      "name": "Company Created",
      "description": "Triggered when a new company is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "objectId": {"type": "number"},
          "propertyName": {"type": "string"},
          "propertyValue": {"type": "string"},
          "changeSource": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "GET",
    "endpoint": "/crm/v3/objects/contacts?limit=1"
  }
}