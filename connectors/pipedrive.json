{
  "id": "pipedrive",
  "name": "Pipedrive",
  "description": "Pipedrive sales CRM and pipeline management platform",
  "category": "CRM",
  "icon": "pipedrive",
  "color": "#29C643",
  "version": "1.0.0",
  "authentication": {
    "type": "api_key",
    "config": {
      "apiKeyLocation": "query",
      "apiKeyName": "api_token"
    }
  },
  "baseUrl": "https://api.pipedrive.com/v1",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Pipedrive",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "get_deals",
      "name": "Get Deals",
      "description": "Get list of deals",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          },
          "filter_id": {
            "type": "number",
            "description": "Filter ID to apply"
          },
          "stage_id": {
            "type": "number",
            "description": "Filter by stage ID"
          },
          "status": {
            "type": "string",
            "enum": ["open", "won", "lost", "deleted", "all_not_deleted"],
            "default": "all_not_deleted",
            "description": "Filter by status"
          },
          "start": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Pagination start"
          },
          "limit": {
            "type": "number",
            "minimum": 1,
            "maximum": 500,
            "description": "Number of deals to return"
          },
          "sort": {
            "type": "string",
            "description": "Sort field and direction (e.g., 'add_time DESC')"
          },
          "owned_by_you": {
            "type": "string",
            "enum": ["0", "1"],
            "description": "Filter for deals owned by authenticated user"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_deal",
      "name": "Create Deal",
      "description": "Create a new deal",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Deal title"
          },
          "value": {
            "type": "number",
            "description": "Deal value"
          },
          "currency": {
            "type": "string",
            "description": "Currency code"
          },
          "user_id": {
            "type": "number",
            "description": "User ID (owner)"
          },
          "person_id": {
            "type": "number",
            "description": "Person ID"
          },
          "org_id": {
            "type": "number",
            "description": "Organization ID"
          },
          "stage_id": {
            "type": "number",
            "description": "Stage ID"
          },
          "status": {
            "type": "string",
            "enum": ["open", "won", "lost", "deleted"],
            "default": "open",
            "description": "Deal status"
          },
          "expected_close_date": {
            "type": "string",
            "format": "date",
            "description": "Expected close date"
          },
          "probability": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Probability percentage"
          },
          "lost_reason": {
            "type": "string",
            "description": "Lost reason"
          },
          "visible_to": {
            "type": "string",
            "enum": ["1", "3", "5", "7"],
            "description": "Visibility setting"
          }
        },
        "required": ["title"],
        "additionalProperties": false
      }
    },
    {
      "id": "update_deal",
      "name": "Update Deal",
      "description": "Update an existing deal",
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Deal ID"
          },
          "title": {
            "type": "string",
            "description": "Deal title"
          },
          "value": {
            "type": "number",
            "description": "Deal value"
          },
          "currency": {
            "type": "string",
            "description": "Currency code"
          },
          "user_id": {
            "type": "number",
            "description": "User ID (owner)"
          },
          "person_id": {
            "type": "number",
            "description": "Person ID"
          },
          "org_id": {
            "type": "number",
            "description": "Organization ID"
          },
          "stage_id": {
            "type": "number",
            "description": "Stage ID"
          },
          "status": {
            "type": "string",
            "enum": ["open", "won", "lost", "deleted"],
            "description": "Deal status"
          },
          "probability": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Probability percentage"
          }
        },
        "required": ["id"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_persons",
      "name": "Get Persons",
      "description": "Get list of persons",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          },
          "filter_id": {
            "type": "number",
            "description": "Filter ID to apply"
          },
          "first_char": {
            "type": "string",
            "description": "Filter by first character of name"
          },
          "start": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Pagination start"
          },
          "limit": {
            "type": "number",
            "minimum": 1,
            "maximum": 500,
            "description": "Number of persons to return"
          },
          "sort": {
            "type": "string",
            "description": "Sort field and direction"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_person",
      "name": "Create Person",
      "description": "Create a new person",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Person name"
          },
          "owner_id": {
            "type": "number",
            "description": "Owner user ID"
          },
          "org_id": {
            "type": "number",
            "description": "Organization ID"
          },
          "email": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {"type": "string", "format": "email"},
                "primary": {"type": "boolean"},
                "label": {"type": "string"}
              }
            },
            "description": "Email addresses"
          },
          "phone": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {"type": "string"},
                "primary": {"type": "boolean"},
                "label": {"type": "string"}
              }
            },
            "description": "Phone numbers"
          },
          "visible_to": {
            "type": "string",
            "enum": ["1", "3", "5", "7"],
            "description": "Visibility setting"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_organizations",
      "name": "Get Organizations",
      "description": "Get list of organizations",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          },
          "filter_id": {
            "type": "number",
            "description": "Filter ID to apply"
          },
          "first_char": {
            "type": "string",
            "description": "Filter by first character of name"
          },
          "start": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Pagination start"
          },
          "limit": {
            "type": "number",
            "minimum": 1,
            "maximum": 500,
            "description": "Number of organizations to return"
          },
          "sort": {
            "type": "string",
            "description": "Sort field and direction"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_organization",
      "name": "Create Organization",
      "description": "Create a new organization",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Organization name"
          },
          "owner_id": {
            "type": "number",
            "description": "Owner user ID"
          },
          "visible_to": {
            "type": "string",
            "enum": ["1", "3", "5", "7"],
            "description": "Visibility setting"
          },
          "address": {
            "type": "string",
            "description": "Address"
          },
          "address_subpremise": {
            "type": "string",
            "description": "Address subpremise"
          },
          "address_street_number": {
            "type": "string",
            "description": "Street number"
          },
          "address_route": {
            "type": "string",
            "description": "Route"
          },
          "address_sublocality": {
            "type": "string",
            "description": "Sublocality"
          },
          "address_locality": {
            "type": "string",
            "description": "Locality"
          },
          "address_admin_area_level_1": {
            "type": "string",
            "description": "Admin area level 1"
          },
          "address_admin_area_level_2": {
            "type": "string",
            "description": "Admin area level 2"
          },
          "address_country": {
            "type": "string",
            "description": "Country"
          },
          "address_postal_code": {
            "type": "string",
            "description": "Postal code"
          },
          "address_formatted_address": {
            "type": "string",
            "description": "Formatted address"
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_activities",
      "name": "Get Activities",
      "description": "Get list of activities",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          },
          "filter_id": {
            "type": "number",
            "description": "Filter ID to apply"
          },
          "type": {
            "type": "string",
            "description": "Filter by activity type"
          },
          "start": {
            "type": "number",
            "minimum": 0,
            "default": 0,
            "description": "Pagination start"
          },
          "limit": {
            "type": "number",
            "minimum": 1,
            "maximum": 500,
            "description": "Number of activities to return"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "description": "Start date filter"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "description": "End date filter"
          },
          "done": {
            "type": "string",
            "enum": ["0", "1"],
            "description": "Filter by completion status"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_activity",
      "name": "Create Activity",
      "description": "Create a new activity",
      "parameters": {
        "type": "object",
        "properties": {
          "subject": {
            "type": "string",
            "description": "Activity subject"
          },
          "type": {
            "type": "string",
            "description": "Activity type"
          },
          "due_date": {
            "type": "string",
            "format": "date",
            "description": "Due date"
          },
          "due_time": {
            "type": "string",
            "description": "Due time (HH:MM)"
          },
          "duration": {
            "type": "string",
            "description": "Duration (HH:MM)"
          },
          "user_id": {
            "type": "number",
            "description": "User ID (assignee)"
          },
          "deal_id": {
            "type": "number",
            "description": "Deal ID"
          },
          "person_id": {
            "type": "number",
            "description": "Person ID"
          },
          "org_id": {
            "type": "number",
            "description": "Organization ID"
          },
          "note": {
            "type": "string",
            "description": "Activity note"
          },
          "done": {
            "type": "string",
            "enum": ["0", "1"],
            "default": "0",
            "description": "Mark as done"
          }
        },
        "required": ["subject", "type"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "deal_created",
      "name": "Deal Created",
      "description": "Triggered when a new deal is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": {"type": "number"},
          "title": {"type": "string"},
          "value": {"type": "number"},
          "currency": {"type": "string"},
          "add_time": {"type": "string"},
          "update_time": {"type": "string"},
          "stage_id": {"type": "number"},
          "status": {"type": "string"},
          "probability": {"type": "number"},
          "user_id": {"type": "number"}
        }
      }
    },
    {
      "id": "deal_updated",
      "name": "Deal Updated",
      "description": "Triggered when a deal is updated",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "number",
            "description": "Filter by user ID"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": {"type": "number"},
          "title": {"type": "string"},
          "value": {"type": "number"},
          "update_time": {"type": "string"},
          "stage_id": {"type": "number"},
          "status": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "GET",
    "endpoint": "/users/me"
  }
}